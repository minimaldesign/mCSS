---
import { Image } from 'astro:assets';
import { getInitials } from '../scripts/utilities';
const { online, offline, pic, size, extraClass } = Astro.props;

const slotContent = await Astro.slots.render('default');
const initials = getInitials(slotContent);
---

<!-- prettier-ignore -->
<div
  class:list={[
    'avatar',
    size && `avatar-${size}`,
    online && 'avatar-online',
    offline && 'avatar-offline',
    extraClass,
  ]}
>
  <div>
    {pic && <Image src={pic} alt={slotContent} width="256" />}
    {!pic && initials && <span>{initials}</span>}
  </div>
</div>
